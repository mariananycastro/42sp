LIBRARY 				= libft.a
LIBRARY_PATH		= ./libft
LIBFT_FILE 		 	= $(LIBRARY_PATH)/libft.a

CC         			= clang
CFLAGS     			= -Wall -Wextra -Werror
NAME						= push_swap
FILES_NAMES			= ft_add_to_stack.c \
									ft_create_node.c \
									ft_create_stack.c \
									ft_delete_stack.c \
									ft_new_stack.c \
									ft_push.c \
									ft_push_swap_valid_args.c \
									ft_removed_node.c \
									ft_reverse_rotate.c \
									ft_rotate.c \
									ft_swap.c

OBJ_DIR 				= obj/
OBJ 						= $(FILES_NAMES:%.c=$(OBJ_DIR)%.o)
FILES_LIST 			= push_swap.a

INCLUDE_PATH 		= include
MAIN_FILE 			= $(addprefix src/, push_swap.c)

SRC_DIR 				= src/
vpath %.c $(SRC_DIR)

all: $(NAME)

$(NAME): $(FILES_LIST)
	@$(CC) $(CFLAGS) -g $(MAIN_FILE) -I $(INCLUDE_PATH) -I $(LIBRARY_PATH) $(FILES_LIST) $(LIBFT_FILE) -o $(NAME)

$(FILES_LIST): $(LIBRARY) $(OBJ)
	@ar -rc $(FILES_LIST) $(OBJ)

$(OBJ_DIR)%.o: %.c | $(OBJ_DIR)
	@$(CC) $(CFLAGS) -c $< -I $(INCLUDE_PATH) -I $(LIBRARY_PATH) -o $@ 

$(OBJ_DIR):
	@mkdir -p $@

VALGRIND = valgrind -s --leak-check=full --show-reachable=yes --track-origins=yes --show-leak-kinds=all 

run:
	@$(VALGRIND) ./push_swap 2 3 4 -2 1 0 -2147483648

run1:
	@$(VALGRIND) ./push_swap 2 3 4 -2 5 0 -2147483649

run2:
	@$(VALGRIND) ./push_swap 2 3 4 -2 5 0 2147483647

run3:
	@$(VALGRIND) ./push_swap 2 3 4 -2 5 0 2147483648

ordered10:
	@$(VALGRIND) ./push_swap 1 2 3 4 5 6 7 8 9 10

ordered100:
	@$(VALGRIND) ./push_swap 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100

ordered1000:
	@$(VALGRIND) ./push_swap 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688 689 690 691 692 693 694 695 696 697 698 699 700 701 702 703 704 705 706 707 708 709 710 711 712 713 714 715 716 717 718 719 720 721 722 723 724 725 726 727 728 729 730 731 732 733 734 735 736 737 738 739 740 741 742 743 744 745 746 747 748 749 750 751 752 753 754 755 756 757 758 759 760 761 762 763 764 765 766 767 768 769 770 771 772 773 774 775 776 777 778 779 780 781 782 783 784 785 786 787 788 789 790 791 792 793 794 795 796 797 798 799 800 801 802 803 804 805 806 807 808 809 810 811 812 813 814 815 816 817 818 819 820 821 822 823 824 825 826 827 828 829 830 831 832 833 834 835 836 837 838 839 840 841 842 843 844 845 846 847 848 849 850 851 852 853 854 855 856 857 858 859 860 861 862 863 864 865 866 867 868 869 870 871 872 873 874 875 876 877 878 879 880 881 882 883 884 885 886 887 888 889 890 891 892 893 894 895 896 897 898 899 900 901 902 903 904 905 906 907 908 909 910 911 912 913 914 915 916 917 918 919 920 921 922 923 924 925 926 927 928 929 930 931 932 933 934 935 936 937 938 939 940 941 942 943 944 945 946 947 948 949 950 951 952 953 954 955 956 957 958 959 960 961 962 963 964 965 966 967 968 969 970 971 972 973 974 975 976 977 978 979 980 981 982 983 984 985 986 987 988 989 990 991 992 993 994 995 996 997 998 999 1000

invert10:
	@$(VALGRIND) ./push_swap 10 9 8 7 6 5 4 3 2 1

invert100:
	@$(VALGRIND) ./push_swap 100 99 98 97 96 95 94 93 92 91 90 89 88 87 86 85 84 83 82 81 80 79 78 77 76 75 74 73 72 71 70 69 68 67 66 65 64 63 62 61 60 59 58 57 56 55 54 53 52 51 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1

invert1000: 1000..1
	@$(VALGRIND) ./push_swap 1000 999 998 997 996 995 994 993 992 991 990 989 988 987 986 985 984 983 982 981 980 979 978 977 976 975 974 973 972 971 970 969 968 967 966 965 964 963 962 961 960 959 958 957 956 955 954 953 952 951 950 949 948 947 946 945 944 943 942 941 940 939 938 937 936 935 934 933 932 931 930 929 928 927 926 925 924 923 922 921 920 919 918 917 916 915 914 913 912 911 910 909 908 907 906 905 904 903 902 901 900 899 898 897 896 895 894 893 892 891 890 889 888 887 886 885 884 883 882 881 880 879 878 877 876 875 874 873 872 871 870 869 868 867 866 865 864 863 862 861 860 859 858 857 856 855 854 853 852 851 850 849 848 847 846 845 844 843 842 841 840 839 838 837 836 835 834 833 832 831 830 829 828 827 826 825 824 823 822 821 820 819 818 817 816 815 814 813 812 811 810 809 808 807 806 805 804 803 802 801 800 799 798 797 796 795 794 793 792 791 790 789 788 787 786 785 784 783 782 781 780 779 778 777 776 775 774 773 772 771 770 769 768 767 766 765 764 763 762 761 760 759 758 757 756 755 754 753 752 751 750 749 748 747 746 745 744 743 742 741 740 739 738 737 736 735 734 733 732 731 730 729 728 727 726 725 724 723 722 721 720 719 718 717 716 715 714 713 712 711 710 709 708 707 706 705 704 703 702 701 700 699 698 697 696 695 694 693 692 691 690 689 688 687 686 685 684 683 682 681 680 679 678 677 676 675 674 673 672 671 670 669 668 667 666 665 664 663 662 661 660 659 658 657 656 655 654 653 652 651 650 649 648 647 646 645 644 643 642 641 640 639 638 637 636 635 634 633 632 631 630 629 628 627 626 625 624 623 622 621 620 619 618 617 616 615 614 613 612 611 610 609 608 607 606 605 604 603 602 601 600 599 598 597 596 595 594 593 592 591 590 589 588 587 586 585 584 583 582 581 580 579 578 577 576 575 574 573 572 571 570 569 568 567 566 565 564 563 562 561 560 559 558 557 556 555 554 553 552 551 550 549 548 547 546 545 544 543 542 541 540 539 538 537 536 535 534 533 532 531 530 529 528 527 526 525 524 523 522 521 520 519 518 517 516 515 514 513 512 511 510 509 508 507 506 505 504 503 502 501 500 499 498 497 496 495 494 493 492 491 490 489 488 487 486 485 484 483 482 481 480 479 478 477 476 475 474 473 472 471 470 469 468 467 466 465 464 463 462 461 460 459 458 457 456 455 454 453 452 451 450 449 448 447 446 445 444 443 442 441 440 439 438 437 436 435 434 433 432 431 430 429 428 427 426 425 424 423 422 421 420 419 418 417 416 415 414 413 412 411 410 409 408 407 406 405 404 403 402 401 400 399 398 397 396 395 394 393 392 391 390 389 388 387 386 385 384 383 382 381 380 379 378 377 376 375 374 373 372 371 370 369 368 367 366 365 364 363 362 361 360 359 358 357 356 355 354 353 352 351 350 349 348 347 346 345 344 343 342 341 340 339 338 337 336 335 334 333 332 331 330 329 328 327 326 325 324 323 322 321 320 319 318 317 316 315 314 313 312 311 310 309 308 307 306 305 304 303 302 301 300 299 298 297 296 295 294 293 292 291 290 289 288 287 286 285 284 283 282 281 280 279 278 277 276 275 274 273 272 271 270 269 268 267 266 265 264 263 262 261 260 259 258 257 256 255 254 253 252 251 250 249 248 247 246 245 244 243 242 241 240 239 238 237 236 235 234 233 232 231 230 229 228 227 226 225 224 223 222 221 220 219 218 217 216 215 214 213 212 211 210 209 208 207 206 205 204 203 202 201 200 199 198 197 196 195 194 193 192 191 190 189 188 187 186 185 184 183 182 181 180 179 178 177 176 175 174 173 172 171 170 169 168 167 166 165 164 163 162 161 160 159 158 157 156 155 154 153 152 151 150 149 148 147 146 145 144 143 142 141 140 139 138 137 136 135 134 133 132 131 130 129 128 127 126 125 124 123 122 121 120 119 118 117 116 115 114 113 112 111 110 109 108 107 106 105 104 103 102 101 100 99 98 97 96 95 94 93 92 91 90 89 88 87 86 85 84 83 82 81 80 79 78 77 76 75 74 73 72 71 70 69 68 67 66 65 64 63 62 61 60 59 58 57 56 55 54 53 52 51 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1

aleatory10:
	@$(VALGRIND) ./push_swap 1 3 5 2 6 8 11 4 13 7

aleatory100:
	@$(VALGRIND) ./push_swap 624 438 723 402 94 110 895 430 912 859 470 851 195 348 843 824 210 45 832 33 639 27 203 362 803 791 2 337 679 30 52 659 216 37 666 758 346 164 464 206 389 706 685 399 559 768 300 460 150 212 549 453 515 215 499 970 837 252 473 41 242 439 273 724 753 222 944 817 705 298 497 667 493 533 112 755 302 674 603 486 180 445 856 537 849 939 423 642 176 317 530 374 17 514 701 158 940 178 398 773

aleatory1000:
	@$(VALGRIND) ./push_swap 1253 1670 9342 2190 8810 6775 3542 8916 8410 1841 7520 1741 1026 4561 1579 2224 1671 1233 6306 4572 2850 2912 2602 5749 6602 952 1904 9752 9860 6039 3546 2531 8220 3673 8007 6225 623 3014 1884 4266 3555 4260 2876 5828 4267 6930 2941 7123 7848 832 1277 5648 1548 1011 781 6980 6014 7025 400 4351 4258 2407 8173 8920 5032 1591 1900 2988 2595 7309 2861 9091 321 4666 4380 4651 7927 8608 179 9462 2227 1123 3602 7822 8063 4852 5569 3042 4017 6901 422 1568 7056 9800 3872 2151 6660 6979 2110 8695 8992 8313 8001 4059 2718 3928 9254 1154 970 7518 1595 1202 9941 7686 1347 5492 2149 3373 8745 6368 1926 7211 3719 7107 3658 7608 4846 8426 4875 9685 876 2162 1147 4 5791 9953 1985 2354 5877 4646 3714 3103 8175 268 7169 8474 7680 4992 9131 8223 4820 1758 1116 5616 7402 5124 5531 7968 7267 2703 4593 2707 8524 5496 4034 4155 3010 5879 1237 5074 9531 3898 5592 7521 6110 8449 4776 741 1709 423 2001 6593 3768 9429 1207 8871 3064 7659 3566 337 2356 9351 8984 2240 2723 6332 5175 6826 3626 3853 9760 8888 546 3782 6267 6455 7542 9059 9093 8328 3704 6050 7832 1607 1613 1340 6138 1530 1484 3163 3596 2453 2305 7767 1493 5086 7379 416 9269 5504 4916 4494 9893 432 9495 7860 5717 3523 1135 1622 2552 5556 3747 9756 2750 5425 7369 1677 8275 1846 6023 6587 468 2425 1417 6727 8693 9668 9818 7200 9183 38 1138 6255 6904 8349 4307 9175 1515 4895 4933 5658 5927 6513 3098 6914 7428 8443 8790 825 5201 3914 7283 1455 1674 6526 2107 5899 1075 2108 3412 4878 3261 6025 1535 5323 525 6852 4117 4188 6108 1334 9690 6297 9874 2174 2399 527 6701 4721 4227 3652 8435 9946 3260 8989 454 9349 3004 3244 3036 520 4064 4529 3497 9108 2715 4829 3340 4348 1375 8411 6753 7677 5750 9824 4032 8775 3563 2997 158 61 6131 5872 4419 3155 4293 6821 5768 4466 4736 2403 3489 927 4072 9297 1144 7366 8286 7190 9106 3271 9505 2759 5250 2086 5029 6466 7490 3433 214 5509 8274 6468 9978 5145 5277 1809 9213 8911 976 8128 6327 1333 714 1616 8701 2666 2056 3651 6066 2571 3464 563 9471 5572 3511 8264 3760 9191 4739 9371 2508 4037 6658 2700 9539 8717 543 6324 8095 1105 1871 9671 4688 5756 4412 1146 6232 786 166 9532 9516 6772 2929 2526 8475 4175 1248 1932 1798 4252 4482 3214 3493 4943 159 1171 2832 5283 9375 6406 1842 9970 3744 3204 1528 7477 3947 6462 6055 372 916 3436 3839 1117 544 6699 5623 7776 4389 6166 5527 9312 2916 1876 7584 5996 6128 6243 6949 2761 8012 6313 9850 2598 51 8402 1115 1273 3810 7302 2253 8500 1643 8370 8505 4873 291 5677 6709 9862 1143 9121 6603 6029 4039 9605 488 4612 1260 7393 169 2701 2893 7022 1272 7147 3604 1125 2536 7756 4713 5460 6807 6032 6410 1538 6095 286 6259 9979 5919 2557 6188 3192 2331 7778 8973 469 8679 3656 7553 6495 4517 2153 7967 8559 742 8161 6293 2277 7183 8156 1027 6251 3388 6112 6946 9747 1242 2933 7422 4559 6179 2299 9599 424 4200 850 6028 1466 9757 5011 8225 1763 8326 1784 9381 8212 2529 3869 8737 3801 2095 3250 5121 856 4242 8144 2556 3808 4749 3800 2333 5967 890 5950 3986 9574 1499 650 3330 9938 5876 2230 208 8898 9897 3268 836 7891 1666 4860 357 7079 2970 2303 9813 6476 4935 847 939 6074 3852 7543 8788 7781 7252 358 463 5558 5327 7067 2841 5513 6203 6556 5890 4270 4779 130 9906 9900 7830 2007 3742 9359 3507 7741 8187 871 6657 8682 6527 5591 3032 1452 1280 4500 2695 3210 811 7953 3431 3228 3342 3830 5760 4121 1806 3880 8 7606 8152 278 9538 2348 9518 1142 9225 6973 14 1258 5851 3167 8780 6429 4708 1090 2090 6515 3753 869 6741 1360 261 4710 4044 5575 3728 7268 2991 959 3160 7857 9869 1113 4025 5988 2185 7349 5940 6811 4195 7303 1191 4900 8471 7145 8035 8632 3354 4697 7723 2656 4334 6834 5000 7208 4407 5476 9733 5831 2562 1479 9780 7118 3858 858 5764 4541 8606 1878 4481 5329 1957 6490 3242 7312 2087 3408 1182 9032 5608 2823 9587 4880 2352 5755 2063 3400 3557 1041 8137 9704 3177 3449 8617 9427 2167 7688 7549 5793 2335 7950 945 6277 6157 899 2608 4273 2089 1440 3687 5885 4795 4285 4754 5325 4872 7155 2334 9679 607 2065 7588 679 7863 6978 8119 4637 3533 3438 1873 6459 4357 9317 5659 551 2886 9834 8117 1054 8353 8205 5115 1947 4486 4438 1519 2858 2720 2280 6133 3802 9324 8495 2923 8977 8442 8690 6088 1246 2415 9478 5576 1903 3946 750 3882 2507 58 7096 7804 8004 6172 6104 2131 9466 1729 3044 7855 4659 1994 9881 4868 8512 425 8179 2283 9399 5421 6206 9468 2391 1981 9782 1222 3488 3457 5443 5475 7279 1276 7291 8865 675 4669 9799 4041 8441 355 806 6042 8792 9762 8675 4982 5473 1642 4096 8360 4682 7374 6958 5202 5075 4940 3281 5923 9812 7593 8859 6436 3796 3233 4385 6822 4702 4448 89 206 659 4958 8807 9008 3649 8494 635 582 2717 8997 1252 5260 2115 8112 8121 828 242 7348 4941 6882 9905 8154 6265 2925 8178 3577 7509 2319 1121 7684 212 5674 9408 7928 8201 8870 5722 4794 5955 1016 3619 8042 9490 5719 9527 6210 5961 1186 5906 3067 5056 864 6425 2582 7194 5963 7915 7049 683 3622 5406 4711 2746 2112 376 2520 9493 6710 4425 197 8022 3642 4156 2609 7785 1279 9224 1059 6253 2196 6160 2010 2867 7419 7794 2473 7580 9511 7707 766 3875 9701 7333 9458 4866 4618 2236

clean:
	@rm -f $(OBJ_DIR)*.o

fclean: clean
	@rm -f $(NAME)

re: fclean all

# libft
$(LIBRARY):
	@$(MAKE) all -C $(LIBRARY_PATH)
	@cp $(LIBFT_FILE) $(LIBRARY)

libclean:
	@$(MAKE) clean -C $(LIBRARY_PATH)

libfclean:
	@$(MAKE) fclean -C $(LIBRARY_PATH)
	@rm -f $(LIBRARY)

libre:
	@$(MAKE) re -C $(LIBRARY_PATH)
